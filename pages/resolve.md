---
title: "Wicd, dhclient, OpenDNS"
tags: computer
---

Выехала я на некоторое время со своим нетбуком в гости, и попала в забавную ситуацию - интернет есть, а вот с DNS ерунда какая-то. Что-то где-то не ладится, в результате имена в IP-адреса не преобразуются, а я как-то айпишники всех сайтов не помню :) Зато я помню, что есть OpenDNS, и есть возможность обращаться к Google Public DNS (адрес `8.8.8.8` даже запоминается легко). И знаю, что адреса DNS-серверов надо вписывать в `/etc/resolv.conf` в виде `nameserver ip`. Помогает. Одна беда - при каждом подключении-отключении этот самый resolv.conf автоматически перезаписывается.

Неудивительно, у меня же стоит dhclient и используются сведения, полученные по dhcp. Ок, добавлю в `/etc/dhcp/dhclient.conf` строчку `append domain-name-servers 8.8.8.8, 8.8.4.4, 208.67.222.222, 208.67.220.220;`, чтоб с одной стороны, по-прежнему могли работать предоставляемые автоматически адреса, а с другой - если они не сработали, то чтоб шли в ход эти, запасные. Добавила. Сохранила, отключилась-подключилась… и обнаружила, что никакого эффекта нет. Досадно!

Почесала в затылке, подумала-поискала, уяснила, что wicd запускает dhclient c другим конфигом, не с тем, который я изменяла. Поискав ещё немного, поняла, что править надо файл `/etc/wicd/dhclient.conf.template`. Добавила в конец файла вышеуказанную строку, опять же сохранила, отключилась-подключилась… Ура! Оно работает :)

    append domain-name-servers 8.8.8.8, 8.8.4.4;
    append domain-name-servers 208.67.222.222, 208.67.220.220;
    append domain-name-servers 91.214.71.181, 213.183.57.57;
    append domain-name-servers 217.12.210.54, 178.17.170.67;

## Ссылки

- https://en.wikipedia.org/wiki/Alternative\_DNS\_root - это дополнительное чтение.
- http://www.orsn.org/en/tech/pubdns/
- http://namespace.org To resolve Name.Space please input any or all of the following IP addresses into your DNS settings: 72.69.161.7, 72.69.161.13.
- http://www.opennicproject.org - 213.183.57.55 (MOW, RU), 192.121.86.114 (SE)
